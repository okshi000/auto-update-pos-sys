import{a as F,j as r,d as M,r as v,t as h,L as K,B as j}from"./index-DkfHMTYM.js";import{r as n}from"./vendor-react-DsCSLZ3L.js";import{D as $}from"./DateRangePicker-D3Np1JXj.js";import{S as H,a as W}from"./SalesPieChart-BArhMst_.js";import{R as S,B as R,C as L,X as T,Y as I,T as D,b as O}from"./vendor-charts-DGg1Za7c.js";import"./vendor-utils-DMdnf9MG.js";import"./vendor-icons-DU-kWQ55.js";function X({data:e,height:t=300,showGrid:a=!0,horizontal:s=!1}){const{locale:o,t:i}=F(),d=l=>new Intl.NumberFormat(o==="ar"?"ar-LY":"en-LY",{style:"currency",currency:"LYD",minimumFractionDigits:0,maximumFractionDigits:0}).format(l);return!e||e.length===0?r.jsx("div",{className:"flex items-center justify-center",style:{height:t,color:"var(--color-gray-400)"},children:i("reports.no_data","No data available")}):s?r.jsx(S,{width:"100%",height:t,children:r.jsxs(R,{data:e,layout:"vertical",margin:{top:10,right:30,left:80,bottom:0},children:[a&&r.jsx(L,{strokeDasharray:"3 3",stroke:"var(--color-gray-200)"}),r.jsx(T,{type:"number",tickFormatter:l=>d(l),stroke:"var(--color-gray-500)",fontSize:12}),r.jsx(I,{type:"category",dataKey:"name",stroke:"var(--color-gray-500)",fontSize:12,width:70}),r.jsx(D,{formatter:l=>[d(l),i("reports.revenue","Revenue")],contentStyle:{backgroundColor:"var(--color-white)",border:"1px solid var(--color-gray-200)",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(O,{dataKey:"value",fill:"var(--color-primary-500)",radius:[0,4,4,0]})]})}):r.jsx(S,{width:"100%",height:t,children:r.jsxs(R,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[a&&r.jsx(L,{strokeDasharray:"3 3",stroke:"var(--color-gray-200)"}),r.jsx(T,{dataKey:"name",stroke:"var(--color-gray-500)",fontSize:12,tickLine:!1}),r.jsx(I,{tickFormatter:l=>d(l),stroke:"var(--color-gray-500)",fontSize:12,tickLine:!1,axisLine:!1,width:80}),r.jsx(D,{formatter:l=>[d(l),i("reports.revenue","Revenue")],contentStyle:{backgroundColor:"var(--color-white)",border:"1px solid var(--color-gray-200)",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(O,{dataKey:"value",fill:"var(--color-primary-500)",radius:[4,4,0,0]})]})})}function tr(){const{t:e,locale:t}=F(),[a,s]=n.useState("sales"),[o,i]=n.useState({start:null,end:null}),[d,l]=n.useState(!0),[p,b]=n.useState(!1),[B,P]=n.useState(null),[Y,U]=n.useState(null),[V,q]=n.useState(null),[y,z]=n.useState(null),g=c=>new Intl.NumberFormat(t==="ar"?"ar-LY":"en-LY",{style:"currency",currency:"LYD",minimumFractionDigits:3}).format(c),x=c=>new Intl.NumberFormat(t==="ar"?"ar-LY":"en-LY").format(c),N=n.useCallback(async()=>{try{const c=await M.metrics();z(c)}catch(c){console.error("Failed to load dashboard:",c)}},[]),_=n.useCallback(async()=>{l(!0);try{const c=await v.sales({date_from:o.start?.toISOString().split("T")[0]||void 0,date_to:o.end?.toISOString().split("T")[0]||void 0});P(c)}catch{h.error(e("error.load_failed","Failed to load report"))}finally{l(!1)}},[o,e]),f=n.useCallback(async()=>{l(!0);try{const c=await v.inventory();U(c)}catch{h.error(e("error.load_failed","Failed to load report"))}finally{l(!1)}},[e]),k=n.useCallback(async()=>{l(!0);try{const c=await v.cashRegister({date_from:o.start?.toISOString().split("T")[0]||void 0,date_to:o.end?.toISOString().split("T")[0]||void 0});q(c)}catch{h.error(e("error.load_failed","Failed to load report"))}finally{l(!1)}},[o,e]),w=async c=>{b(!0);try{const A=a==="cash"?"cash-register":a,E=await v.export(A,{from:o.start?.toISOString().split("T")[0],to:o.end?.toISOString().split("T")[0]}),C=window.URL.createObjectURL(E),m=document.createElement("a");m.href=C,m.download=`${a}-report-${new Date().toISOString().split("T")[0]}.${c}`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(C),document.body.removeChild(m),h.success(e("reports.exported","Report exported successfully"))}catch{h.error(e("error.export_failed","Failed to export report"))}finally{b(!1)}};return n.useEffect(()=>{N()},[N]),n.useEffect(()=>{a==="sales"?_():a==="inventory"?f():k()},[a,_,f,k]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--color-gray-900)"},children:e("nav.reports","Reports")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>w("csv"),disabled:p,className:"btn btn-secondary",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV"]}),r.jsxs("button",{onClick:()=>w("pdf"),disabled:p,className:"btn btn-secondary",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF"]})]})]}),y&&r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(u,{title:e("dashboard.today_sales","Today's Sales"),value:g(y.today?.revenue||0),icon:"ðŸ’°"}),r.jsx(u,{title:e("dashboard.today_orders","Today's Orders"),value:x(y.today?.sales_count||0),icon:"ðŸ§¾"}),r.jsx(u,{title:e("dashboard.low_stock","Low Stock Items"),value:x(y.low_stock_alert||0),icon:"âš ï¸",variant:y.low_stock_alert>0?"warning":"default"}),r.jsx(u,{title:e("dashboard.pending_orders","Pending Orders"),value:x(y.pending_orders||0),icon:"ðŸ‘¥"})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>s("sales"),className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:a==="sales"?"var(--color-primary-600)":"var(--color-gray-100)",color:a==="sales"?"var(--color-white)":"var(--color-gray-700)"},children:[r.jsx("span",{className:"me-2",children:"ðŸ“Š"}),e("reports.sales","Sales Report")]}),r.jsxs("button",{onClick:()=>s("inventory"),className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:a==="inventory"?"var(--color-primary-600)":"var(--color-gray-100)",color:a==="inventory"?"var(--color-white)":"var(--color-gray-700)"},children:[r.jsx("span",{className:"me-2",children:"ðŸ“¦"}),e("reports.inventory","Inventory Report")]}),r.jsxs("button",{onClick:()=>s("cash"),className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:a==="cash"?"var(--color-primary-600)":"var(--color-gray-100)",color:a==="cash"?"var(--color-white)":"var(--color-gray-700)"},children:[r.jsx("span",{className:"me-2",children:"ðŸ’µ"}),e("reports.cash_register","Cash Register")]})]}),(a==="sales"||a==="cash")&&r.jsx("div",{className:"w-full sm:w-80",children:r.jsx($,{value:o,onChange:i})})]}),d?r.jsx("div",{className:"py-12",children:r.jsx(K,{})}):a==="sales"?r.jsx(Q,{report:B,formatCurrency:g,formatNumber:x,t:e}):a==="inventory"?r.jsx(G,{report:Y,formatCurrency:g,formatNumber:x,t:e}):r.jsx(J,{report:V,formatCurrency:g,formatNumber:x,t:e})]})]})}function u({title:e,value:t,icon:a,trend:s,variant:o="default"}){return r.jsxs("div",{className:"card flex items-center gap-4",style:{backgroundColor:o==="warning"?"var(--color-warning-50)":void 0},children:[r.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"var(--color-gray-100)"},children:a}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:e}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl font-semibold",style:{color:"var(--color-gray-900)"},children:t}),s!==void 0&&s!==0&&r.jsxs(j,{variant:s>0?"success":"danger",size:"sm",children:[s>0?"â†‘":"â†“"," ",Math.abs(s),"%"]})]})]})]})}function Q({report:e,formatCurrency:t,formatNumber:a,t:s}){if(!e)return r.jsx("div",{className:"text-center py-12",style:{color:"var(--color-gray-500)"},children:s("reports.no_data","No data available")});const o=e.by_date||[],i=(e.by_category||e.sales_by_category||[]).map(l=>({name:l.name||l.category_name||"Unknown",value:l.revenue||l.total||0})),d=(e.by_payment_method||[]).map(l=>({name:l.method,value:l.amount}));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-gray-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.total_sales","Total Sales")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-primary-600)"},children:t(e.summary.total_revenue)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-gray-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.total_orders","Total Orders")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-gray-900)"},children:a(e.summary.total_sales)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-gray-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.avg_order","Avg Order Value")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-gray-900)"},children:t(e.summary.average_sale)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-gray-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.items_sold","Items Sold")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-gray-900)"},children:a(e.summary.total_items_sold)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.length>0&&r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--color-gray-900)"},children:s("reports.sales_trend","Sales Trend")}),r.jsx(H,{data:o,height:250})]}),i.length>0&&r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--color-gray-900)"},children:s("reports.sales_by_category","Sales by Category")}),r.jsx(W,{data:i,height:250})]})]}),d.length>0&&r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("h3",{className:"font-semibold mb-4",style:{color:"var(--color-gray-900)"},children:s("reports.by_payment_method","By Payment Method")}),r.jsx(X,{data:d,height:200,horizontal:!0})]}),e.top_products&&e.top_products.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-gray-900)"},children:s("reports.top_products","Top Products")}),r.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--color-gray-200)"},children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{style:{backgroundColor:"var(--color-gray-50)"},children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:"#"}),r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("products.name","Product")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("reports.quantity_sold","Qty Sold")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("reports.revenue","Revenue")})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-gray-100)"},children:e.top_products.map((l,p)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2",style:{color:"var(--color-gray-500)"},children:p+1}),r.jsx("td",{className:"px-4 py-2 font-medium",style:{color:"var(--color-gray-900)"},children:l.product_name}),r.jsx("td",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:a(l.quantity_sold)}),r.jsx("td",{className:"px-4 py-2 text-end font-medium",style:{color:"var(--color-primary-600)"},children:t(l.revenue)})]},l.product_id))})]})})]}),e.sales_by_category&&e.sales_by_category.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-gray-900)"},children:s("reports.sales_by_category","Sales by Category")}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:e.sales_by_category.map(l=>r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("p",{className:"font-medium",style:{color:"var(--color-gray-900)"},children:l.name}),r.jsx("p",{className:"text-lg font-semibold",style:{color:"var(--color-primary-600)"},children:t(l.total??l.revenue??0)}),r.jsxs("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:[l.percentage??0,"%"]})]},l.id))})]})]})}function G({report:e,formatCurrency:t,formatNumber:a,t:s}){return e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-gray-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.total_products","Total Products")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-gray-900)"},children:a(e.total_products??e.summary?.total_products??0)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-gray-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.total_stock_value","Total Stock Value")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-primary-600)"},children:t(e.total_stock_value??e.summary?.total_stock_value??0)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-warning-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.low_stock","Low Stock")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-warning-600)"},children:a(e.low_stock_count??e.summary?.low_stock_count??0)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-error-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.out_of_stock","Out of Stock")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-error-600)"},children:a(e.out_of_stock_count??e.summary?.out_of_stock_count??0)})]})]}),e.low_stock_items&&e.low_stock_items.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-gray-900)"},children:s("reports.low_stock_items","Low Stock Items")}),r.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--color-gray-200)"},children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{style:{backgroundColor:"var(--color-gray-50)"},children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("products.sku","SKU")}),r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("products.name","Product")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("inventory.current","Current")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("inventory.min_level","Min Level")}),r.jsx("th",{className:"px-4 py-2 text-center",style:{color:"var(--color-gray-600)"},children:s("inventory.status","Status")})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-gray-100)"},children:e.low_stock_items.map(o=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 font-mono text-sm",style:{color:"var(--color-gray-500)"},children:o.sku}),r.jsx("td",{className:"px-4 py-2",style:{color:"var(--color-gray-900)"},children:o.name??o.product_name}),r.jsx("td",{className:"px-4 py-2 text-end font-semibold",style:{color:"var(--color-error-600)"},children:a(o.quantity??o.current_quantity??0)}),r.jsx("td",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:a(o.min_stock_level)}),r.jsx("td",{className:"px-4 py-2 text-center",children:r.jsx(j,{variant:(o.quantity??o.current_quantity??0)===0?"danger":"warning",dot:!0,children:(o.quantity??o.current_quantity??0)===0?s("inventory.out_of_stock","Out"):s("inventory.low","Low")})})]},o.id??o.product_id))})]})})]}),e.stock_by_category&&e.stock_by_category.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-gray-900)"},children:s("reports.stock_by_category","Stock by Category")}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:e.stock_by_category.map(o=>r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("p",{className:"font-medium",style:{color:"var(--color-gray-900)"},children:o.name}),r.jsxs("p",{className:"text-sm",style:{color:"var(--color-gray-600)"},children:[a(o.products_count)," ",s("reports.products","products")]}),r.jsx("p",{className:"text-lg font-semibold",style:{color:"var(--color-primary-600)"},children:t(o.stock_value)})]},o.id))})]})]}):r.jsx("div",{className:"text-center py-12",style:{color:"var(--color-gray-500)"},children:s("reports.no_data","No data available")})}function J({report:e,formatCurrency:t,formatNumber:a,t:s}){return e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-success-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.cash_in","Cash In")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-success-600)"},children:t(e.summary.total_cash_in)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-error-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.cash_out","Cash Out")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-error-600)"},children:t(e.summary.total_cash_out)})]}),r.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-primary-50)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.net_cash","Net Cash")}),r.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-primary-600)"},children:t(e.summary.net_cash)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.opening_balance","Opening Balance")}),r.jsx("p",{className:"text-xl font-semibold",style:{color:"var(--color-gray-900)"},children:t(e.summary.opening_balance)})]}),r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.closing_balance","Closing Balance")}),r.jsx("p",{className:"text-xl font-semibold",style:{color:"var(--color-gray-900)"},children:t(e.summary.closing_balance)})]}),r.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--color-gray-200)"},children:[r.jsx("p",{className:"text-sm",style:{color:"var(--color-gray-500)"},children:s("reports.transactions","Transactions")}),r.jsx("p",{className:"text-xl font-semibold",style:{color:"var(--color-gray-900)"},children:a(e.summary.transactions_count)})]})]}),e.by_user&&e.by_user.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-gray-900)"},children:s("reports.by_user","Cash by User")}),r.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--color-gray-200)"},children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{style:{backgroundColor:"var(--color-gray-50)"},children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("users.name","User")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("reports.cash_in","Cash In")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("reports.cash_out","Cash Out")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("reports.transactions","Transactions")})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-gray-100)"},children:e.by_user.map(o=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 font-medium",style:{color:"var(--color-gray-900)"},children:o.user_name}),r.jsx("td",{className:"px-4 py-2 text-end",style:{color:"var(--color-success-600)"},children:t(o.cash_in)}),r.jsx("td",{className:"px-4 py-2 text-end",style:{color:"var(--color-error-600)"},children:t(o.cash_out)}),r.jsx("td",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:a(o.transactions)})]},o.user_id))})]})})]}),e.transactions&&e.transactions.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-gray-900)"},children:s("reports.recent_transactions","Recent Transactions")}),r.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--color-gray-200)"},children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{style:{backgroundColor:"var(--color-gray-50)"},children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("common.type","Type")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("common.amount","Amount")}),r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("common.reference","Reference")}),r.jsx("th",{className:"px-4 py-2 text-start",style:{color:"var(--color-gray-600)"},children:s("users.name","User")}),r.jsx("th",{className:"px-4 py-2 text-end",style:{color:"var(--color-gray-600)"},children:s("common.time","Time")})]})}),r.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--color-gray-100)"},children:e.transactions.slice(0,20).map(o=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2",children:r.jsx(j,{variant:o.type==="sale"?"success":o.type==="refund"?"warning":o.type==="expense"?"danger":"info",children:o.type})}),r.jsxs("td",{className:"px-4 py-2 text-end font-semibold",style:{color:o.type==="sale"||o.type==="adjustment"?"var(--color-success-600)":"var(--color-error-600)"},children:[o.type==="sale"||o.type==="adjustment"?"+":"-",t(Math.abs(o.amount))]}),r.jsx("td",{className:"px-4 py-2",style:{color:"var(--color-gray-600)"},children:o.reference||"-"}),r.jsx("td",{className:"px-4 py-2",style:{color:"var(--color-gray-900)"},children:o.user_name}),r.jsx("td",{className:"px-4 py-2 text-end text-xs",style:{color:"var(--color-gray-500)"},children:new Date(o.created_at).toLocaleTimeString()})]},o.id))})]})})]})]}):r.jsx("div",{className:"text-center py-12",style:{color:"var(--color-gray-500)"},children:s("reports.no_data","No data available")})}export{tr as ReportsPage,tr as default};
