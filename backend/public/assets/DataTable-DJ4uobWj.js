import{a as b,j as e,L}from"./index-JnHVxLbD.js";import{r as S}from"./vendor-react-DsCSLZ3L.js";function V({icon:s,title:o,description:t,action:n}){const{direction:d}=b();return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",dir:d,children:[s&&e.jsx("div",{className:"mb-4 p-4 rounded-full",style:{backgroundColor:"var(--color-gray-100)"},children:e.jsx("span",{className:"text-4xl",children:s})}),e.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-gray-900)"},children:o}),t&&e.jsx("p",{className:"text-sm mb-4 max-w-md",style:{color:"var(--color-gray-500)"},children:t}),n&&e.jsx("div",{className:"mt-4",children:n})]})}const _=e.jsx("svg",{className:"w-5 h-5 rtl-flip",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),$=e.jsx("svg",{className:"w-5 h-5 rtl-flip",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})});function M({currentPage:s,totalPages:o,totalItems:t,perPage:n,onPageChange:d,showInfo:f=!0}){const{t:a}=b();if(o<=1)return null;const w=(s-1)*n+1,m=Math.min(s*n,t),y=()=>{const l=[];if(o<=7)for(let i=1;i<=o;i++)l.push(i);else{l.push(1),s>3&&l.push("ellipsis");const i=Math.max(2,s-1),c=Math.min(o-1,s+1);for(let h=i;h<=c;h++)l.push(h);s<o-2&&l.push("ellipsis"),l.push(o)}return l};return e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 py-3",children:[f&&e.jsxs("p",{className:"text-sm",style:{color:"var(--color-gray-600)"},children:[a("pagination.showing","Showing")," "," ",e.jsx("span",{className:"font-medium",style:{color:"var(--color-gray-900)"},children:w})," ",a("pagination.to","to")," ",e.jsx("span",{className:"font-medium",style:{color:"var(--color-gray-900)"},children:m})," ",a("pagination.of","of")," ",e.jsx("span",{className:"font-medium",style:{color:"var(--color-gray-900)"},children:t})," ",a("pagination.results","results")]}),e.jsxs("nav",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>d(s-1),disabled:s===1,className:"p-2 rounded-lg transition-colors touch-target",style:{color:s===1?"var(--color-gray-300)":"var(--color-gray-600)",cursor:s===1?"not-allowed":"pointer"},"aria-label":a("pagination.previous","Previous page"),children:_}),y().map((l,v)=>l==="ellipsis"?e.jsx("span",{className:"px-2",style:{color:"var(--color-gray-400)"},children:"..."},`ellipsis-${v}`):e.jsx("button",{onClick:()=>d(l),className:"min-w-[40px] h-10 rounded-lg font-medium transition-colors touch-target",style:{backgroundColor:l===s?"var(--color-primary-600)":"transparent",color:l===s?"white":"var(--color-gray-600)"},children:l},l)),e.jsx("button",{onClick:()=>d(s+1),disabled:s===o,className:"p-2 rounded-lg transition-colors touch-target",style:{color:s===o?"var(--color-gray-300)":"var(--color-gray-600)",cursor:s===o?"not-allowed":"pointer"},"aria-label":a("pagination.next","Next page"),children:$})]})]})}function O({columns:s,data:o,keyExtractor:t,isLoading:n=!1,emptyIcon:d="ðŸ“‹",emptyTitle:f,emptyDescription:a,emptyAction:w,pagination:m,sortKey:y,sortDirection:l,onSort:v,selectable:i=!1,selectedKeys:c=new Set,onSelectionChange:h,rowActions:N,mobileCardRender:g}){const{t:p,direction:W}=b(),[k,z]=S.useState(window.innerWidth<768);S.useMemo(()=>{const r=()=>z(window.innerWidth<768);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const B=()=>{c.size===o.length?h?.(new Set):h?.(new Set(o.map(t)))},I=r=>{const x=new Set(c);x.has(r)?x.delete(r):x.add(r),h?.(x)},E=({columnKey:r})=>y!==r?e.jsx("svg",{className:"w-4 h-4 opacity-30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):l==="asc"?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});if(n&&o.length===0)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(L,{message:p("common.loading","Loading...")})});if(!n&&o.length===0)return e.jsx(V,{icon:d,title:f||p("table.no_data","No data found"),description:a,action:w});if(k&&g)return e.jsxs("div",{className:"space-y-4",children:[o.map(r=>e.jsx("div",{className:"card p-4",children:g(r)},t(r))),m&&e.jsx(M,{...m})]});const C=k?s.filter(r=>!r.hideOnMobile):s;return e.jsxs("div",{children:[n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.7)"},children:e.jsx(L,{})}),e.jsx("div",{className:"overflow-x-auto relative",role:"region","aria-label":p("table.data_region","Data table"),children:e.jsxs("table",{className:"w-full",dir:W,role:"table","aria-rowcount":o.length,children:[e.jsx("thead",{role:"rowgroup",children:e.jsxs("tr",{style:{backgroundColor:"var(--color-gray-50)"},role:"row",children:[i&&e.jsx("th",{className:"px-4 py-3 w-12",role:"columnheader",scope:"col",children:e.jsx("input",{type:"checkbox",checked:c.size===o.length&&o.length>0,onChange:B,className:"w-4 h-4 rounded",style:{accentColor:"var(--color-primary-600)"}})}),C.map(r=>e.jsx("th",{className:`px-4 py-3 text-${r.align||"start"} font-medium text-sm`,style:{color:"var(--color-gray-600)",width:r.width,cursor:r.sortable?"pointer":"default"},onClick:()=>r.sortable&&v?.(r.key),role:"columnheader",scope:"col","aria-sort":y===r.key?l==="asc"?"ascending":"descending":void 0,children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.header,r.sortable&&e.jsx(E,{columnKey:r.key})]})},r.key)),N&&e.jsx("th",{className:"px-4 py-3 text-end font-medium text-sm w-24",style:{color:"var(--color-gray-600)"},role:"columnheader",scope:"col",children:p("table.actions","Actions")})]})}),e.jsx("tbody",{role:"rowgroup",children:o.map((r,x)=>{const u=t(r);return e.jsxs("tr",{className:"transition-colors",style:{borderBottom:"1px solid var(--color-gray-100)",backgroundColor:c.has(u)?"var(--color-primary-50)":x%2===0?"white":"var(--color-gray-50)"},role:"row","aria-rowindex":x+2,"aria-selected":i?c.has(u):void 0,children:[i&&e.jsx("td",{className:"px-4 py-3",role:"cell",children:e.jsx("input",{type:"checkbox",checked:c.has(u),onChange:()=>I(u),className:"w-4 h-4 rounded",style:{accentColor:"var(--color-primary-600)"},"aria-label":p("table.select_row","Select row")})}),C.map(j=>e.jsx("td",{className:`px-4 py-3 text-${j.align||"start"}`,style:{color:"var(--color-gray-900)"},role:"cell",children:j.render?j.render(r):r[j.key]?.toString()},j.key)),N&&e.jsx("td",{className:"px-4 py-3 text-end",role:"cell",children:N(r)})]},u)})})]})}),m&&e.jsx(M,{...m})]})}export{O as D,V as E};
