import{a as E,j as a}from"./index-Nde1j7Yg.js";import{r as s}from"./vendor-react-DsCSLZ3L.js";function R({value:o,onChange:p,placeholder:h,disabled:x=!1,error:c,min:i,max:u,className:v=""}){const{locale:f,direction:y}=E(),w=s.useRef(null),[N,m]=s.useState(!1),n=s.useMemo(()=>({code:"LYD",symbol:f==="ar"?"د.ل":"LYD",decimals:3}),[f]),b=s.useCallback(e=>e===null||isNaN(e)?"":e.toFixed(n.decimals),[n.decimals]),k=s.useCallback(e=>{const t=e.replace(/[^\d.-]/g,""),l=parseFloat(t);return isNaN(l)?null:l},[]),[g,r]=s.useState(null),C=N&&g!==null?g:b(o),j=e=>{const t=e.target.value;r(t);const l=k(t);if(l!==null){let d=l;i!==void 0&&l<i&&(d=i),u!==void 0&&l>u&&(d=u),p(d)}else(t===""||t==="-")&&p(null)},D=()=>{m(!1),r(null)},F=()=>{m(!0),r(o!==null?o.toString():"")},K=e=>{["Backspace","Delete","Tab","Escape","Enter",".","-"].includes(e.key)||(e.ctrlKey||e.metaKey)&&["a","c","v","x"].includes(e.key.toLowerCase())||["Home","End","ArrowLeft","ArrowRight"].includes(e.key)||/^\d$/.test(e.key)||e.preventDefault()};return a.jsxs("div",{className:`relative ${v}`,children:[a.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 pointer-events-none font-medium",style:{[y==="rtl"?"right":"left"]:"0.75rem",color:"var(--color-gray-500)"},children:n.symbol}),a.jsx("input",{ref:w,type:"text",inputMode:"decimal",value:C,onChange:j,onFocus:F,onBlur:D,onKeyDown:K,placeholder:h||`0.${"0".repeat(n.decimals)}`,disabled:x,dir:"ltr",className:`input ${c?"input-error":""}`,style:{paddingInlineStart:"3.5rem",textAlign:y==="rtl"?"left":"right"}}),c&&a.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--color-error-600)"},children:c})]})}export{R as C};
